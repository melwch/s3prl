#!/bin/bash -x
if [ -f "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2" ]; then
	rm -rf "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2"
fi
mkdir -p "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2"


ffmpeg -y -i "/home/m/workshop/official/data_augmentation/wav/target/w1.wav" -af "atempo=0.9" -c:a pcm_s16le -b:a 32.0k -ac 1 -ar 16000 -f wav "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav"
ffmpeg -f wav -i "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav" -i "../../../../data_augmentation/reverbdb/60427_smallroom_Room097_Room097-00041.wav" -filter_complex '[0] [1] afir=dry=4:wet=4' -c:a pcm_s16le -b:a 32.0k -ac 1 -ar 16000 -f wav "temp.wav"
mv ""temp.wav"" "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav"
python3 addnoise.py 0 "../../../../data_augmentation/noise,25_noise-free-sound-0445.wav@10.0,627_noise-free-sound-0506.wav@10.0" "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav" "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav"
ffmpeg -y -f wav -i "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav" -c:a libopencore_amrnb -b:a 12.2k -ac 1 -ar 8000 -f amr - | ffmpeg -y -f amr -i - -c:a libopus -b:a 32.0k -ac 1 -ar 8000 -f ogg - | ffmpeg -y -f ogg -i - -c:a pcm_s16le -b:a 32.0k -ac 1 -ar 16000 -f WAV "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav"
ffmpeg -y -i "/home/m/workshop/official/data_augmentation/wav/target/w1.wav" -af "atempo=0.9" -c:a pcm_s16le -b:a 32.0k -ac 1 -ar 16000 -f wav "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav"
ffmpeg -f wav -i "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav" -i "../../../../data_augmentation/reverbdb/60427_smallroom_Room097_Room097-00041.wav" -filter_complex '[0] [1] afir=dry=4:wet=4' -c:a pcm_s16le -b:a 32.0k -ac 1 -ar 16000 -f wav "temp.wav"
mv ""temp.wav"" "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav"
python3 addnoise.py 0 "../../../../data_augmentation/noise,25_noise-free-sound-0445.wav@10.0,627_noise-free-sound-0506.wav@10.0" "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav" "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav"
ffmpeg -y -f wav -i "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav" -c:a libopencore_amrnb -b:a 12.2k -ac 1 -ar 8000 -f amr - | ffmpeg -y -f amr -i - -c:a libopus -b:a 32.0k -ac 1 -ar 8000 -f ogg - | ffmpeg -y -f ogg -i - -c:a pcm_s16le -b:a 32.0k -ac 1 -ar 16000 -f WAV "/home/m/workshop/official/data_augmentation/wav/cle_0_insert__typ_ebu_lev_-23._lou_7.0_pea_-2.0_off_0.0_mod_0_snr_15.0_10.0_5.0_id_0_insert_C_nty_2_mod_temp_val_0.9_mod_RAW_id_6042_mix_-1_gai_4_1.0_0.0_0.0_num_2/w1.wav"


echo "Completed!"
